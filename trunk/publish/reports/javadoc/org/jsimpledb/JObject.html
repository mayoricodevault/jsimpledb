<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_45) on Mon Aug 18 11:36:30 CDT 2014 -->
<title>JObject (Java Class Library API)</title>
<meta name="date" content="2014-08-18">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="JObject (Java Class Library API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/JObject.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../org/jsimpledb/JMapField.html" title="class in org.jsimpledb"><span class="strong">Prev Class</span></a></li>
<li><a href="../../org/jsimpledb/JReferenceField.html" title="class in org.jsimpledb"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?org/jsimpledb/JObject.html" target="_top">Frames</a></li>
<li><a href="JObject.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.jsimpledb</div>
<h2 title="Interface JObject" class="title">Interface JObject</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <a href="../../src-html/org/jsimpledb/JObject.html#line.37">JObject</a></pre>
<div class="block">Interface implemented by <a href="../../org/jsimpledb/JSimpleDB.html" title="class in org.jsimpledb"><code>JSimpleDB</code></a> Java model objects.

 <p>
 All <a href="../../org/jsimpledb/JSimpleDB.html" title="class in org.jsimpledb"><code>JSimpleDB</code></a> database objects are instances of runtime-generated sub-classes of the provided Java model classes.
 These generated subclasses will always implement this interface, providing convenient access to database operations.
 Therefore, it is conveninent to declare Java model classes <code>abstract</code> and <code>implements JObject</code>.
 However, this is not strictly necessary; all of the methods declared here ultimately delegate to one of the
 <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a> support methods.
 </p>

 <p>
 There are two types of <a href="../../org/jsimpledb/JObject.html" title="interface in org.jsimpledb"><code>JObject</code></a>s: normal instances, which always reflect the state of the <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a>
 <a href="../../org/jsimpledb/JTransaction.html#getCurrent()">associated</a> with the current thread, and "snapshot" instances that reflect
 the state of their associated <a href="../../org/jsimpledb/SnapshotJTransaction.html" title="class in org.jsimpledb"><code>SnapshotJTransaction</code></a>. Use <a href="../../org/jsimpledb/JObject.html#isSnapshot()"><code>isSnapshot()</code></a> to distinguish if necessary.
 For example, some create/delete/change callback methods may not apply in a snapshot context.
 </p>

 <p>
 The <a href="../../org/jsimpledb/JObject.html#getTransaction()"><code>getTransaction()</code></a> method returns the transaction associated with an instance. For a normal instance,
 this is just the <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a> <a href="../../org/jsimpledb/JTransaction.html#getCurrent()">associated</a> with the current thread;
 if there is no such transaction, an <a href="http://download.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang"><code>IllegalStateException</code></a> is thrown. For a "snapshot" instance,
 <a href="../../org/jsimpledb/JObject.html#getTransaction()"><code>getTransaction()</code></a> always returns the corresponding <a href="../../org/jsimpledb/SnapshotJTransaction.html" title="class in org.jsimpledb"><code>SnapshotJTransaction</code></a>.
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../org/jsimpledb/JObject.html" title="interface in org.jsimpledb">JObject</a></code></td>
<td class="colLast"><code><strong><a href="../../org/jsimpledb/JObject.html#copyIn(java.lang.String...)">copyIn</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>...&nbsp;refPaths)</code>
<div class="block">Copy this instance and other instances it references into the transaction associated with the current thread.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../org/jsimpledb/JObject.html" title="interface in org.jsimpledb">JObject</a></code></td>
<td class="colLast"><code><strong><a href="../../org/jsimpledb/JObject.html#copyOut(java.lang.String...)">copyOut</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>...&nbsp;refPaths)</code>
<div class="block">Snapshot this instance and other instances it references.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../org/jsimpledb/JObject.html" title="interface in org.jsimpledb">JObject</a></code></td>
<td class="colLast"><code><strong><a href="../../org/jsimpledb/JObject.html#copyTo(org.jsimpledb.JTransaction, org.jsimpledb.core.ObjId, java.lang.String...)">copyTo</a></strong>(<a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb">JTransaction</a>&nbsp;dest,
            <a href="../../org/jsimpledb/core/ObjId.html" title="class in org.jsimpledb.core">ObjId</a>&nbsp;target,
            <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>...&nbsp;refPaths)</code>
<div class="block">Copy this instance, and other instances it references, into a (possibly) different <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../org/jsimpledb/JObject.html#delete()">delete</a></strong>()</code>
<div class="block">Delete this instance, if it exists, in this instance's associated transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../org/jsimpledb/JObject.html#exists()">exists</a></strong>()</code>
<div class="block">Determine whether this instance still exists in its associated transaction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../org/jsimpledb/core/ObjId.html" title="class in org.jsimpledb.core">ObjId</a></code></td>
<td class="colLast"><code><strong><a href="../../org/jsimpledb/JObject.html#getObjId()">getObjId</a></strong>()</code>
<div class="block">Get this instance's unique JSimpleDB object identifier.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;? extends <a href="../../org/jsimpledb/JObject.html" title="interface in org.jsimpledb">JObject</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../org/jsimpledb/JObject.html#getRelatedObjects()">getRelatedObjects</a></strong>()</code>
<div class="block">Identify any other objects that should be copied along with this object when it is being copied into a
 different transaction and a null reference path array is specified.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../org/jsimpledb/JObject.html#getSchemaVersion()">getSchemaVersion</a></strong>()</code>
<div class="block">Get this instance's current schema version.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb">JTransaction</a></code></td>
<td class="colLast"><code><strong><a href="../../org/jsimpledb/JObject.html#getTransaction()">getTransaction</a></strong>()</code>
<div class="block">Get this instance's associated <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../org/jsimpledb/JObject.html#isSnapshot()">isSnapshot</a></strong>()</code>
<div class="block">Determine whether this instance is a normal instance or is a "snapshot" instance associated
 with a <a href="../../org/jsimpledb/SnapshotJTransaction.html" title="class in org.jsimpledb"><code>SnapshotJTransaction</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../org/jsimpledb/JObject.html#recreate()">recreate</a></strong>()</code>
<div class="block">Recreate a deleted instance, if it does not exist, in its associated transaction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../org/jsimpledb/JObject.html#revalidate()">revalidate</a></strong>()</code>
<div class="block">Add this instance to the validation queue for validation in its associated transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../org/jsimpledb/JObject.html#upgrade()">upgrade</a></strong>()</code>
<div class="block">Update the schema version of this instance, if necessary, so that it matches the schema version
 of its associated transaction.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getObjId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getObjId</h4>
<pre><a href="../../org/jsimpledb/core/ObjId.html" title="class in org.jsimpledb.core">ObjId</a>&nbsp;<a href="../../src-html/org/jsimpledb/JObject.html#line.48">getObjId</a>()</pre>
<div class="block">Get this instance's unique JSimpleDB object identifier.

 <p>
 This method always succeeds.
 </p></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>unique database identifier for this instance</dd></dl>
</li>
</ul>
<a name="getSchemaVersion()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSchemaVersion</h4>
<pre>int&nbsp;<a href="../../src-html/org/jsimpledb/JObject.html#line.60">getSchemaVersion</a>()</pre>
<div class="block">Get this instance's current schema version. Does not change this instance's schema version.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../org/jsimpledb/core/DeletedObjectException.html" title="class in org.jsimpledb.core">DeletedObjectException</a></code> - if this object does not exist in the <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a> associated with this instance</dd>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if this is not a snapshot instance and there is no <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a>
  associated with the current thread</dd>
<dd><code><a href="../../org/jsimpledb/core/StaleTransactionException.html" title="class in org.jsimpledb.core">StaleTransactionException</a></code> - if this is not a snapshot instance and the transaction associated with the current thread is no longer usable</dd></dl>
</li>
</ul>
<a name="getTransaction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTransaction</h4>
<pre><a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb">JTransaction</a>&nbsp;<a href="../../src-html/org/jsimpledb/JObject.html#line.75">getTransaction</a>()</pre>
<div class="block">Get this instance's associated <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a>.

 <p>
 If this is a regular database instance, this returns the <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a>
 <a href="../../org/jsimpledb/JTransaction.html#getCurrent()">associated</a> with the current thread. Otherwise, this instance
 is a snapshot instance and this method returns the associated <a href="../../org/jsimpledb/SnapshotJTransaction.html" title="class in org.jsimpledb"><code>SnapshotJTransaction</code></a>.
 </p></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a> that contains this instance's field state</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if this is not a snapshot instance and there is no <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a>
  associated with the current thread</dd></dl>
</li>
</ul>
<a name="delete()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>boolean&nbsp;<a href="../../src-html/org/jsimpledb/JObject.html#line.88">delete</a>()</pre>
<div class="block">Delete this instance, if it exists, in this instance's associated transaction.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if instance was deleted, false if it did not exist</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if this is not a snapshot instance and there is no <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a>
  associated with the current thread</dd>
<dd><code><a href="../../org/jsimpledb/core/StaleTransactionException.html" title="class in org.jsimpledb.core">StaleTransactionException</a></code> - if the transaction associated with the current thread is no longer usable</dd>
<dd><code><a href="../../org/jsimpledb/core/ReferencedObjectException.html" title="class in org.jsimpledb.core">ReferencedObjectException</a></code> - if the object is referenced by some other object
  through a reference field configured for <a href="../../org/jsimpledb/core/DeleteAction.html#EXCEPTION"><code>DeleteAction.EXCEPTION</code></a></dd></dl>
</li>
</ul>
<a name="exists()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exists</h4>
<pre>boolean&nbsp;<a href="../../src-html/org/jsimpledb/JObject.html#line.99">exists</a>()</pre>
<div class="block">Determine whether this instance still exists in its associated transaction.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if instance exists, otherwise false</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if this is not a snapshot instance and there is no <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a>
  associated with the current thread</dd>
<dd><code><a href="../../org/jsimpledb/core/StaleTransactionException.html" title="class in org.jsimpledb.core">StaleTransactionException</a></code> - if this is not a snapshot instance and the transaction associated with the current thread is no longer usable</dd></dl>
</li>
</ul>
<a name="isSnapshot()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSnapshot</h4>
<pre>boolean&nbsp;<a href="../../src-html/org/jsimpledb/JObject.html#line.107">isSnapshot</a>()</pre>
<div class="block">Determine whether this instance is a normal instance or is a "snapshot" instance associated
 with a <a href="../../org/jsimpledb/SnapshotJTransaction.html" title="class in org.jsimpledb"><code>SnapshotJTransaction</code></a>.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if instance is a snapshot instance</dd></dl>
</li>
</ul>
<a name="recreate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recreate</h4>
<pre>boolean&nbsp;<a href="../../src-html/org/jsimpledb/JObject.html#line.119">recreate</a>()</pre>
<div class="block">Recreate a deleted instance, if it does not exist, in its associated transaction.
 The fields of a recreated object are set to their initial values.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if instance was recreated, false if it already existed</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if this is not a snapshot instance and there is no <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a>
  associated with the current thread</dd>
<dd><code><a href="../../org/jsimpledb/core/StaleTransactionException.html" title="class in org.jsimpledb.core">StaleTransactionException</a></code> - if this is not a snapshot instance and the transaction associated with the current thread is no longer usable</dd></dl>
</li>
</ul>
<a name="revalidate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>revalidate</h4>
<pre>void&nbsp;<a href="../../src-html/org/jsimpledb/JObject.html#line.137">revalidate</a>()</pre>
<div class="block">Add this instance to the validation queue for validation in its associated transaction.

 <p>
 The actual validation will occur either during <a href="../../org/jsimpledb/JTransaction.html#commit()"><code>JTransaction.commit()</code></a>
 or at the next invocation of <a href="../../org/jsimpledb/JTransaction.html#validate()"><code>JTransaction.validate()</code></a>, whichever occurs first.
 </p></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../org/jsimpledb/core/DeletedObjectException.html" title="class in org.jsimpledb.core">DeletedObjectException</a></code> - if this object does not exist in the <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a> associated with this instance</dd>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if transaction commit is already in progress</dd>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if this is not a snapshot instance and there is no <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a>
  associated with the current thread</dd>
<dd><code><a href="../../org/jsimpledb/core/StaleTransactionException.html" title="class in org.jsimpledb.core">StaleTransactionException</a></code> - if this is not a snapshot instance and the transaction associated with the current thread is no longer usable</dd></dl>
</li>
</ul>
<a name="upgrade()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>upgrade</h4>
<pre>boolean&nbsp;<a href="../../src-html/org/jsimpledb/JObject.html#line.156">upgrade</a>()</pre>
<div class="block">Update the schema version of this instance, if necessary, so that it matches the schema version
 of its associated transaction.

 <p>
 If a version change occurs, matching <a href="../../org/jsimpledb/annotation/OnVersionChange.html" title="annotation in org.jsimpledb.annotation"><code>&#64;OnVersionChange</code></a>
 methods will be invoked prior to this method returning.
 </p></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if the object's schema version was changed, false if it was already updated</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../org/jsimpledb/core/DeletedObjectException.html" title="class in org.jsimpledb.core">DeletedObjectException</a></code> - if this object does not exist in the <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a> associated with this instance</dd>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if this is not a snapshot instance and there is no <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a>
  associated with the current thread</dd>
<dd><code><a href="../../org/jsimpledb/core/StaleTransactionException.html" title="class in org.jsimpledb.core">StaleTransactionException</a></code> - if this is not a snapshot instance and the transaction associated with the current thread is no longer usable</dd></dl>
</li>
</ul>
<a name="copyTo(org.jsimpledb.JTransaction, org.jsimpledb.core.ObjId, java.lang.String...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>copyTo</h4>
<pre><a href="../../org/jsimpledb/JObject.html" title="interface in org.jsimpledb">JObject</a>&nbsp;<a href="../../src-html/org/jsimpledb/JObject.html#line.217">copyTo</a>(<a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb">JTransaction</a>&nbsp;dest,
             <a href="../../org/jsimpledb/core/ObjId.html" title="class in org.jsimpledb.core">ObjId</a>&nbsp;target,
             <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>...&nbsp;refPaths)</pre>
<div class="block">Copy this instance, and other instances it references, into a (possibly) different <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a>.
 This is a more general method; see <a href="../../org/jsimpledb/JObject.html#copyIn(java.lang.String...)"><code>copyIn()</code></a> and <a href="../../org/jsimpledb/JObject.html#copyOut(java.lang.String...)"><code>copyOut()</code></a> for more common
 and specific use cases.

 <p>
 This method will copy this object's fields into the object with ID <code>target</code> (or this instance's object ID if
 <code>target</code> is null) in the <code>dest</code> transaction, overwriting any previous values there, along with all other
 objects reachable from this instance through any of the specified <a href="../../org/jsimpledb/ReferencePath.html" title="class in org.jsimpledb">reference paths</a> or, if
 <code>refPaths</code> is null, the objects returned by <a href="../../org/jsimpledb/JObject.html#getRelatedObjects()"><code>getRelatedObjects()</code></a>. If <code>target</code> (or any other referenced
 object) already exists in <code>dest</code>, it will have its schema version updated first, if necessary, otherwise it will
 be created. Any <a href="../../org/jsimpledb/annotation/OnCreate.html" title="annotation in org.jsimpledb.annotation"><code>&#64;OnVersionChange</code></a>, <a href="../../org/jsimpledb/annotation/OnCreate.html" title="annotation in org.jsimpledb.annotation"><code>&#64;OnCreate</code></a>, and <a href="../../org/jsimpledb/annotation/OnCreate.html" title="annotation in org.jsimpledb.annotation"><code>&#64;OnChange</code></a> methods will be notified accordingly as usual
 (in <code>dest</code>); however, for <a href="../../org/jsimpledb/annotation/OnCreate.html" title="annotation in org.jsimpledb.annotation"><code>&#64;OnCreate</code></a> and
 <a href="../../org/jsimpledb/annotation/OnCreate.html" title="annotation in org.jsimpledb.annotation"><code>&#64;OnChange</code></a>, the annotation must have <code>snapshotTransactions = true</code>.
 </p>

 <p>
 If <code>refPaths</code> is explicitly specified as null, then <a href="../../org/jsimpledb/JObject.html#getRelatedObjects()"><code>getRelatedObjects()</code></a> will be invoked to determine
 the additional objects to copy. This allows the determination of what additional objects to be copied along
 to be made by the Java model object itself.
 </p>

 <p>
 The two transactions must be compatible in that for any schema versions encountered, those schema versions
 must be identical in both transactions.
 </p>

 <p>
 Circular references are handled properly: if an object is encountered more than once, it is not copied again.
 Note: if <code>target</code> is not equal to this instance's object ID, and through one of the <code>refPaths</code> there
 is a circular reference back to this instance, then that reference is copied as-is (i.e., it is not changed from
 this instance to <code>target</code>).
 </p>

 <p>
 Note: if two threads attempt to copy objects between the same two transactions at the same time but in opposite directions,
 deadlock could result.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>dest</code> - destination transaction for copies</dd><dd><code>target</code> - target object ID in <code>dest</code> onto which to copy this instance's fields, or null for this instance</dd><dd><code>refPaths</code> - zero or more reference paths that refer to additional objects to be copied, or null to indicate
  that <a href="../../org/jsimpledb/JObject.html#getRelatedObjects()"><code>getRelatedObjects()</code></a> should be invoked to determine which additional objects to copy (if any)</dd>
<dt><span class="strong">Returns:</span></dt><dd>the copied version of this instance in <code>dest</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../org/jsimpledb/core/DeletedObjectException.html" title="class in org.jsimpledb.core">DeletedObjectException</a></code> - if this object does not exist in the <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a> associated with this instance
  (no exception is thrown however if an indirectly referenced object does not exist)</dd>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if this is not a snapshot instance and there is no <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a>
  associated with the current thread</dd>
<dd><code><a href="../../org/jsimpledb/core/SchemaMismatchException.html" title="class in org.jsimpledb.core">SchemaMismatchException</a></code> - if the schema corresponding to this object's version is not identical in both the <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a>
  associated with this instance and <code>dest</code> (as well for any referenced objects)</dd>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <code>dest</code> or <code>target</code> is null</dd>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if any path in <code>refPaths</code> is invalid</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../org/jsimpledb/JObject.html#copyIn(java.lang.String...)"><code>copyIn()</code></a>, 
<a href="../../org/jsimpledb/JObject.html#copyOut(java.lang.String...)"><code>copyOut()</code></a>, 
<a href="../../org/jsimpledb/JObject.html#getRelatedObjects()"><code>getRelatedObjects()</code></a></dd></dl>
</li>
</ul>
<a name="copyOut(java.lang.String...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>copyOut</h4>
<pre><a href="../../org/jsimpledb/JObject.html" title="interface in org.jsimpledb">JObject</a>&nbsp;<a href="../../src-html/org/jsimpledb/JObject.html#line.255">copyOut</a>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>...&nbsp;refPaths)</pre>
<div class="block">Snapshot this instance and other instances it references.

 <p>
 This method will copy this object and all of its fields, along all other objects reachable through
 any of the specified <a href="../../org/jsimpledb/ReferencePath.html" title="class in org.jsimpledb">reference paths</a> or, if <code>refPaths</code> is null,
 the objects returned by <a href="../../org/jsimpledb/JObject.html#getRelatedObjects()"><code>getRelatedObjects()</code></a>, into the <a href="../../org/jsimpledb/SnapshotJTransaction.html" title="class in org.jsimpledb"><code>SnapshotJTransaction</code></a>
 <a href="../../org/jsimpledb/JTransaction.html#getSnapshotTransaction()">corresponding</a> to this instance's associated transaction.
 If any object already exists there, it will be overwritten, otherwise it will be created.
 <a href="../../org/jsimpledb/annotation/OnCreate.html" title="annotation in org.jsimpledb.annotation"><code>&#64;OnCreate</code></a> and <a href="../../org/jsimpledb/annotation/OnCreate.html" title="annotation in org.jsimpledb.annotation"><code>&#64;OnChange</code></a>
 notifications will be delivered accordingly; however, the annotation must have <code>snapshotTransactions = true</code>.
 </p>

 <p>
 Normally this method would only be invoked on a regular database <a href="../../org/jsimpledb/JObject.html" title="interface in org.jsimpledb"><code>JObject</code></a>.
 The returned object will always be a snapshot <a href="../../org/jsimpledb/JObject.html" title="interface in org.jsimpledb"><code>JObject</code></a>.
 </p>

 <p>
 This is a convenience method, and is equivalent to invoking:
  <blockquote><code>
  this.copyTo(this.getTransaction().getSnapshotTransaction(), null, refPaths);
  </code></blockquote>
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>refPaths</code> - zero or more reference paths that refer to additional objects to be copied, or null to indicate
  that <a href="../../org/jsimpledb/JObject.html#getRelatedObjects()"><code>getRelatedObjects()</code></a> should be invoked to determine which additional objects to copy (if any)</dd>
<dt><span class="strong">Returns:</span></dt><dd>the snapshot <a href="../../org/jsimpledb/JObject.html" title="interface in org.jsimpledb"><code>JObject</code></a> copy of this instance</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../org/jsimpledb/core/DeletedObjectException.html" title="class in org.jsimpledb.core">DeletedObjectException</a></code> - if this object does not exist in the <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a> associated with this instance
  (no exception is thrown however if an indirectly referenced object does not exist)</dd>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if this is not a snapshot instance and there is no <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a>
  associated with the current thread</dd>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if any path in <code>refPaths</code> is invalid</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../org/jsimpledb/JObject.html#copyIn(java.lang.String...)"><code>copyIn()</code></a></dd></dl>
</li>
</ul>
<a name="copyIn(java.lang.String...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>copyIn</h4>
<pre><a href="../../org/jsimpledb/JObject.html" title="interface in org.jsimpledb">JObject</a>&nbsp;<a href="../../src-html/org/jsimpledb/JObject.html#line.295">copyIn</a>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>...&nbsp;refPaths)</pre>
<div class="block">Copy this instance and other instances it references into the transaction associated with the current thread.

 <p>
 This method will copy this object and all of its fields, along all other objects reachable through any of the
 specified <a href="../../org/jsimpledb/ReferencePath.html" title="class in org.jsimpledb">reference paths</a> or, if <code>refPaths</code> is null, the objects returned by
 <a href="../../org/jsimpledb/JObject.html#getRelatedObjects()"><code>getRelatedObjects()</code></a>, into the <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a> <a href="../../org/jsimpledb/JTransaction.html#getCurrent()">associated</a>
 with the current thread.
 If any object already exists in the current thread's transaction, it will be overwritten, otherwise it will be created.
 <a href="../../org/jsimpledb/annotation/OnCreate.html" title="annotation in org.jsimpledb.annotation"><code>&#64;OnCreate</code></a> and <a href="../../org/jsimpledb/annotation/OnCreate.html" title="annotation in org.jsimpledb.annotation"><code>&#64;OnChange</code></a>
 notifications will be delivered accordingly; however, the annotation must have <code>snapshotTransactions = true</code>.
 </p>

 <p>
 Normally this method would only be invoked on a snapshot <a href="../../org/jsimpledb/JObject.html" title="interface in org.jsimpledb"><code>JObject</code></a>.
 The returned object will always be a regular database <a href="../../org/jsimpledb/JObject.html" title="interface in org.jsimpledb"><code>JObject</code></a>.
 </p>

 <p>
 This is a convenience method, and is equivalent to invoking:
  <blockquote><code>
  this.copyTo(JTransaction.getCurrent(), null, refPaths)
  </code></blockquote>
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>refPaths</code> - zero or more reference paths that refer to additional objects to be copied, or null to indicate
  that <a href="../../org/jsimpledb/JObject.html#getRelatedObjects()"><code>getRelatedObjects()</code></a> should be invoked to determine which additional objects to copy (if any)</dd>
<dt><span class="strong">Returns:</span></dt><dd>the regular database copy of this instance</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../org/jsimpledb/core/DeletedObjectException.html" title="class in org.jsimpledb.core">DeletedObjectException</a></code> - if this object does not exist in the <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a> associated with this instance
  (no exception is thrown however if an indirectly referenced object does not exist)</dd>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if this is not a snapshot instance and there is no <a href="../../org/jsimpledb/JTransaction.html" title="class in org.jsimpledb"><code>JTransaction</code></a>
  associated with the current thread</dd>
<dd><code><a href="../../org/jsimpledb/core/SchemaMismatchException.html" title="class in org.jsimpledb.core">SchemaMismatchException</a></code> - if the schema corresponding to this object's version is not identical in both transactions</dd>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if any path in <code>refPaths</code> is invalid</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../org/jsimpledb/JObject.html#copyOut(java.lang.String...)"><code>copyOut()</code></a></dd></dl>
</li>
</ul>
<a name="getRelatedObjects()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getRelatedObjects</h4>
<pre><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;? extends <a href="../../org/jsimpledb/JObject.html" title="interface in org.jsimpledb">JObject</a>&gt;&nbsp;<a href="../../src-html/org/jsimpledb/JObject.html#line.319">getRelatedObjects</a>()</pre>
<div class="block">Identify any other objects that should be copied along with this object when it is being copied into a
 different transaction and a null reference path array is specified. This method is consulted whenever
 <a href="../../org/jsimpledb/JObject.html#copyIn(java.lang.String...)"><code>copyIn()</code></a>, <a href="../../org/jsimpledb/JObject.html#copyOut(java.lang.String...)"><code>copyOut()</code></a>, or <a href="../../org/jsimpledb/JObject.html#copyTo(org.jsimpledb.JTransaction, org.jsimpledb.core.ObjId, java.lang.String...)"><code>copyTo()</code></a> is invoked with a null <code>refPaths</code>.
 This allows Java instances themselves to determine which "related" should be included in the copy operation.
 The precise definition of "related" is application specific, of course.
 Common examples include objects in a collection field that need to be referenceable in the destination transaction,
 and objects that reference this object when reference inversion will be used in the destination transaction.

 <p>
 Unlike the other methods in the <a href="../../org/jsimpledb/JObject.html" title="interface in org.jsimpledb"><code>JObject</code></a> interface, this method is to be (optionally) implemented by the
 user-provided Java model class. All of the objects in the returned <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang"><code>Iterable</code></a> will be copied as well
 (along with objects on any explicitly provided reference paths; the same object may safely appear more than once).
 </p>

 <p>
 This method is optional in the sense that if it is not implemented in the user-provided Java model class,
 <a href="../../org/jsimpledb/JSimpleDB.html" title="class in org.jsimpledb"><code>JSimpleDB</code></a> will create a stub implementation of this method in the generated subclass that returns null.
 </p></div>
<dl><dt><span class="strong">Returns:</span></dt><dd><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang"><code>Iterable</code></a> of additional objects to be copied, or null for none; any null values are ignored</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/JObject.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../org/jsimpledb/JMapField.html" title="class in org.jsimpledb"><span class="strong">Prev Class</span></a></li>
<li><a href="../../org/jsimpledb/JReferenceField.html" title="class in org.jsimpledb"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?org/jsimpledb/JObject.html" target="_top">Frames</a></li>
<li><a href="JObject.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
