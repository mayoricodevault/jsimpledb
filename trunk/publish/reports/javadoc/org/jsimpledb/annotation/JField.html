<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_45) on Fri Apr 18 16:57:05 CDT 2014 -->
<title>JField (Java Class Library API)</title>
<meta name="date" content="2014-04-18">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="JField (Java Class Library API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/JField.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jsimpledb/annotation/IndexQuery.html" title="annotation in org.jsimpledb.annotation"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/jsimpledb/annotation/JFieldType.html" title="annotation in org.jsimpledb.annotation"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jsimpledb/annotation/JField.html" target="_top">Frames</a></li>
<li><a href="JField.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#annotation_type_required_element_summary">Required</a>&nbsp;|&nbsp;</li>
<li><a href="#annotation_type_optional_element_summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#annotation_type_element_detail">Element</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.jsimpledb.annotation</div>
<h2 title="Annotation Type JField" class="title">Annotation Type JField</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="http://download.oracle.com/javase/7/docs/api/java/lang/annotation/Retention.html?is-external=true" title="class or interface in java.lang.annotation">@Retention</a>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/annotation/Retention.html?is-external=true#value()" title="class or interface in java.lang.annotation">value</a>=<a href="http://download.oracle.com/javase/7/docs/api/java/lang/annotation/RetentionPolicy.html?is-external=true#RUNTIME" title="class or interface in java.lang.annotation">RUNTIME</a>)
<a href="http://download.oracle.com/javase/7/docs/api/java/lang/annotation/Target.html?is-external=true" title="class or interface in java.lang.annotation">@Target</a>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/annotation/Target.html?is-external=true#value()" title="class or interface in java.lang.annotation">value</a>=<a href="http://download.oracle.com/javase/7/docs/api/java/lang/annotation/ElementType.html?is-external=true#METHOD" title="class or interface in java.lang.annotation">METHOD</a>)
<a href="http://download.oracle.com/javase/7/docs/api/java/lang/annotation/Documented.html?is-external=true" title="class or interface in java.lang.annotation">@Documented</a>
public @interface <a href="../../../src-html/org/jsimpledb/annotation/JField.html#line.64">JField</a></pre>
<div class="block">Java annotation for simple fields, including reference fields that refer to other Java model object types.

 <p>
 This annotation is used in two ways:
 <ul>
  <li>To annotate the getter method of a Java bean property in a Java model object class</li>
  <li>To define the sub-field(s) of a complex set, list, or map field
      (i.e., the collection element or map key and value types)</li>
 </ul>
 </p>

 <p>
 If the field is a reference field, the property type must be (a super-type of) the Java model object type
 to which it refers.
 </p>

 <p>
 If the field is not a reference field, the property type, which can either be specified by <a href="../../../org/jsimpledb/annotation/JField.html#name()"><code>name()</code></a>
 or inferred from the annotated method, must be supported by a some <a href="../../../org/jsimpledb/core/FieldType.html" title="class in org.jsimpledb.core"><code>FieldType</code></a>
 registered in the <a href="../../../org/jsimpledb/core/FieldTypeRegistry.html" title="class in org.jsimpledb.core"><code>FieldTypeRegistry</code></a> (perhaps via <a href="../../../org/jsimpledb/annotation/JFieldType.html" title="annotation in org.jsimpledb.annotation"><code>&#64;JFieldType</code></a>).
 </p>

 <p>
 <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Enum.html?is-external=true" title="class or interface in java.lang"><code>Enum</code></a> properties present a problem because they have both a <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Enum.html?is-external=true#name" title="class or interface in java.lang"><code>name()</code></a> and an <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Enum.html?is-external=true#ordinal" title="class or interface in java.lang"><code>ordinal()</code></a>
 value, and either or both of these might change over time due code refactoring, spelling corrections, etc.
 Therefore, it's possible to encounter unknown values when decoding enum constants encoded by older code versions.
 To gracefully handle these situations, the binary encoding includes both the constant's <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Enum.html?is-external=true#ordinal" title="class or interface in java.lang"><code>ordinal()</code></a>s
 and its <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Enum.html?is-external=true#name" title="class or interface in java.lang"><code>name()</code></a>, and when decoding an enum constant the following logic applies:
 <ol>
  <li>If the name matches an enum constant, that constant is returned, regardless of whether the ordinal matches or not</li>
  <li>If the name does not match but the ordinal matches an enum constant, that constant is returned</li>
  <li>Otherwise, neither the name nor the ordinal matches, and null is returned</li>
 </ol>
 </p>

 <p>
 When an <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Enum.html?is-external=true" title="class or interface in java.lang"><code>Enum</code></a> property changes, the safest approach is to create a new schema version. As a special case,
 when old field values are presented to <a href="../../../org/jsimpledb/annotation/OnVersionChange.html" title="annotation in org.jsimpledb.annotation"><code>&#64;OnVersionChange</code></a> methods, for any old fields that
 had <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Enum.html?is-external=true" title="class or interface in java.lang"><code>Enum</code></a> type, their old values will be <a href="../../../org/jsimpledb/core/EnumValue.html" title="class in org.jsimpledb.core"><code>EnumValue</code></a> objects, allowing visibility
 into old values that may have changed or been removed in the current schema.
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== ANNOTATION TYPE REQUIRED MEMBER SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation_type_required_element_summary">
<!--   -->
</a>
<h3>Required Element Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Required Element Summary table, listing required elements, and an explanation">
<caption><span>Required Elements</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Required Element and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/jsimpledb/annotation/JField.html#storageId()">storageId</a></strong></code>
<div class="block">Storage ID for this field.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== ANNOTATION TYPE OPTIONAL MEMBER SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation_type_optional_element_summary">
<!--   -->
</a>
<h3>Optional Element Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Optional Element Summary table, listing optional elements, and an explanation">
<caption><span>Optional Elements</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Optional Element and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/jsimpledb/annotation/JField.html#indexed()">indexed</a></strong></code>
<div class="block">Whether this field is indexed or not.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/jsimpledb/annotation/JField.html#name()">name</a></strong></code>
<div class="block">The name of this field.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../org/jsimpledb/core/DeleteAction.html" title="enum in org.jsimpledb.core">DeleteAction</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/jsimpledb/annotation/JField.html#onDelete()">onDelete</a></strong></code>
<div class="block">For reference fields, configure the behavior when a referred-to object is
 <a href="../../../org/jsimpledb/JObject.html#delete()">deleted</a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/jsimpledb/annotation/JField.html#type()">type</a></strong></code>
<div class="block">The type of this field.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ ANNOTATION TYPE MEMBER DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation_type_element_detail">
<!--   -->
</a>
<h3>Element Detail</h3>
<a name="storageId()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>storageId</h4>
<pre>public abstract&nbsp;int&nbsp;<a href="../../../src-html/org/jsimpledb/annotation/JField.html#line.122">storageId</a></pre>
<div class="block">Storage ID for this field. Value must be positive and unique within the contained class.</div>
</li>
</ul>
<a name="name()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>name</h4>
<pre>public abstract&nbsp;<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../src-html/org/jsimpledb/annotation/JField.html#line.77">name</a></pre>
<div class="block">The name of this field.

 <p>
 If equal to the empty string (default value), the name is inferred from the name of the annotated Java bean getter method.
 </p>

 <p>
 For sub-fields of complex fields, this property must be left unset.
 </p></div>
<dl>
<dt>Default:</dt>
<dd>""</dd>
</dl>
</li>
</ul>
<a name="type()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>type</h4>
<pre>public abstract&nbsp;<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../src-html/org/jsimpledb/annotation/JField.html#line.117">type</a></pre>
<div class="block">The type of this field.

 <p>
 If set, this must equal the name of a type registered in the <a href="../../../org/jsimpledb/core/FieldTypeRegistry.html" title="class in org.jsimpledb.core"><code>FieldTypeRegistry</code></a>
 associated with the <a href="../../../org/jsimpledb/core/Database.html" title="class in org.jsimpledb.core"><code>Database</code></a> instance, and the annotated method's return type must match the
 <a href="../../../org/jsimpledb/core/FieldType.html" title="class in org.jsimpledb.core"><code>FieldType</code></a>'s <a href="../../../org/jsimpledb/core/FieldType.html#getTypeToken()">supported Java type</a>.

 <p>
 If equal to the empty string (default value), then the Java type is inferred from the return type of the getter method
 and the <a href="../../../org/jsimpledb/core/FieldType.html" title="class in org.jsimpledb.core"><code>FieldType</code></a> is found via
 <a href="../../../org/jsimpledb/core/FieldTypeRegistry.html#getFieldType(com.google.common.reflect.TypeToken)"><code>FieldTypeRegistry.getFieldType()</code></a>.
 </p>

 <p>
 For reference fields (i.e., methods with return value equal to a <a href="../../../org/jsimpledb/annotation/JSimpleClass.html" title="annotation in org.jsimpledb.annotation"><code>&#64;JSimpleClass</code></a>-annotated class),
 this property must be left unset.
 </p>

 <p>
 For sub-fields of complex fields, this property can be used to force a primitive sub-field type instead of a
 primitive wrapper type. In that case, the complex field will disallow nulls.
 </p>

 <p>
 For example:
 <pre>
 &#64;JSimpleClass(storageId = 10)
 public class Team {

     &#64;JListField(storageId = 11,
       element = &#64;JField(storageId = 12, <b>type = "float"</b>)) // nulls will be disallowed
     public abstract List&lt;<b>Float</b>&gt; getScores();
 }
 </pre>
 </p></div>
<dl>
<dt>Default:</dt>
<dd>""</dd>
</dl>
</li>
</ul>
<a name="indexed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indexed</h4>
<pre>public abstract&nbsp;boolean&nbsp;<a href="../../../src-html/org/jsimpledb/annotation/JField.html#line.131">indexed</a></pre>
<div class="block">Whether this field is indexed or not.

 <p>
 Note: reference fields are always indexed; for reference fields, this property is ignored.
 </p></div>
<dl>
<dt>Default:</dt>
<dd>false</dd>
</dl>
</li>
</ul>
<a name="onDelete()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>onDelete</h4>
<pre>public abstract&nbsp;<a href="../../../org/jsimpledb/core/DeleteAction.html" title="enum in org.jsimpledb.core">DeleteAction</a>&nbsp;<a href="../../../src-html/org/jsimpledb/annotation/JField.html#line.141">onDelete</a></pre>
<div class="block">For reference fields, configure the behavior when a referred-to object is
 <a href="../../../org/jsimpledb/JObject.html#delete()">deleted</a>.

 <p>
 This field is ignored for non-reference fields.
 </p></div>
<dl>
<dt>Default:</dt>
<dd>org.jsimpledb.core.DeleteAction.EXCEPTION</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/JField.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jsimpledb/annotation/IndexQuery.html" title="annotation in org.jsimpledb.annotation"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/jsimpledb/annotation/JFieldType.html" title="annotation in org.jsimpledb.annotation"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jsimpledb/annotation/JField.html" target="_top">Frames</a></li>
<li><a href="JField.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#annotation_type_required_element_summary">Required</a>&nbsp;|&nbsp;</li>
<li><a href="#annotation_type_optional_element_summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#annotation_type_element_detail">Element</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
